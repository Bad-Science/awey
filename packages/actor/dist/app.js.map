{
  "version": 3,
  "sources": ["../app.ts"],
  "sourcesContent": ["import { ActorRealm, Registry } from \"./actor\";\nimport { BufferUniverse } from \"../pixel/bufferuniverse\";\nimport { actorSystem } from \"./actor\";\n\nconst bufferRealm = () => {\n    const bufferUniverse = new BufferUniverse();\n    ActorRealm.threadLocal.register(BufferUniverse.name, \"BufferUnimatrix01\", bufferUniverse);\n    return [bufferUniverse];\n}\n\nactorSystem(() => ([\n    () => [new Registry()],\n    bufferRealm,\n    () => []\n]), __filename, (id) => {\n    console.log(`realm ${id} initialized`);\n});\n\n\nimport { MyTaskRunner } from \"../tasks/my-task-runner\";\nimport { MySharedState } from \"../state/my-shared-state\";\nimport { WebRoot } from \"../web\";\nimport { WebWorker } from \"../web\";\n\nconst appDef = {\n  webRoot: (config: any) => new WebRoot(config),\n  webWorker: () => new WebWorker(),\n  taskRunner: () => new MyTaskRunner(),\n  sharedState: () => new MySharedState(),\n}\n\nconst appConfig = {\n  ssl: {\n    key: fs.readFileSync('./ssl/key.pem'),\n    cert: fs.readFileSync('./ssl/cert.pem'),\n  },\n  port: 3000,\n}\n\nconst myApp = () => [\n  () => appDef.webRoot(appConfig),\n  Array.from({length: 2}, () => appDef.webWorker),\n  appDef.taskRunner,\n  appDef.sharedState,\n];\n\nthreads(myApp);"],
  "mappings": "AAAA,mBAAqC;AACrC,4BAA+B;AAC/B,IAAAA,gBAA4B;AAiB5B,4BAA6B;AAC7B,6BAA8B;AAC9B,iBAAwB;AACxB,IAAAC,cAA0B;AAlB1B,MAAM,cAAc,MAAM;AACtB,QAAM,iBAAiB,IAAI,qCAAe;AAC1C,0BAAW,YAAY,SAAS,qCAAe,MAAM,qBAAqB,cAAc;AACxF,SAAO,CAAC,cAAc;AAC1B;AAAA,IAEA,2BAAY,MAAO;AAAA,EACf,MAAM,CAAC,IAAI,sBAAS,CAAC;AAAA,EACrB;AAAA,EACA,MAAM,CAAC;AACX,GAAI,YAAY,CAAC,OAAO;AACpB,UAAQ,IAAI,SAAS,EAAE,cAAc;AACzC,CAAC;AAQD,MAAM,SAAS;AAAA,EACb,SAAS,CAAC,WAAgB,IAAI,mBAAQ,MAAM;AAAA,EAC5C,WAAW,MAAM,IAAI,sBAAU;AAAA,EAC/B,YAAY,MAAM,IAAI,mCAAa;AAAA,EACnC,aAAa,MAAM,IAAI,qCAAc;AACvC;AAEA,MAAM,YAAY;AAAA,EAChB,KAAK;AAAA,IACH,KAAK,GAAG,aAAa,eAAe;AAAA,IACpC,MAAM,GAAG,aAAa,gBAAgB;AAAA,EACxC;AAAA,EACA,MAAM;AACR;AAEA,MAAM,QAAQ,MAAM;AAAA,EAClB,MAAM,OAAO,QAAQ,SAAS;AAAA,EAC9B,MAAM,KAAK,EAAC,QAAQ,EAAC,GAAG,MAAM,OAAO,SAAS;AAAA,EAC9C,OAAO;AAAA,EACP,OAAO;AACT;AAEA,QAAQ,KAAK;",
  "names": ["import_actor", "import_web"]
}
